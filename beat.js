var colors=["rgb(41, 128, 185)", "rgb(46, 204, 113)", "rgb(231, 76, 60)", "rgb(241, 196, 15)", "rgb(127, 140, 141)"];var interval=2000, c, min_interval=0, min=0, sec=0, t, flag=0, corcol, x=0, count=0, $winvar, arr=[], num_code=48;$(function (){$("#headbox").addClass("animated bounceInDown").css("opacity", "1");setTimeout(function(){$("#diff").addClass("animated slideInUp").css("opacity", "1");}, 500);var score=0, wid;var i;for (i=0; i<=9; i++){arr.push(num_code++);};num_code=65;for(i=0;i<26;i++){arr.push(num_code++);}$('.choice').click(function(){$("#headcon").css("z-index", '100');$("#diff-win").css("z-index", "0");$("#diff-win").addClass("animated fadeOutLeft");setInterval(function(){$("#diff-win").css("display", "none");$("#mode-win").css("display", "block");$("#mode-win").addClass("animated fadeInRight");},500);if($(this).attr("id")=='easybtn'){$winvar=$('#play0');interval=2000;min_interval=800;corcol="rgb(46, 204, 113)";$("#play0 .col-xs-3 .colbox").each(function(){$(this).addClass("coltabs");});};if($(this).attr("id")=='mediumbtn'){$winvar=$('#play1');interval=2300;min_interval=1300;corcol="rgb(241, 196, 15)";$("#play1 .col-xs-3 .colbox").each(function(){$(this).addClass("coltabs");});};if($(this).attr("id")=='hardbtn'){$winvar=$('#play2');interval=2700;min_interval=1500;corcol="rgb(231, 76, 60)";$("#play2 .col-xs-3 .colbox").each(function(){$(this).addClass("coltabs");});};});$('.mode').click(function(){var mode_name=$(this).attr("id");$('#diff').css("z-index", '-1');$('#diff').addClass("animated slideOutDown");$("#clock").html('0'+min + ' : ' + '0'+sec);setTimeout(function(){$("#diff").css("display", "none");$winvar.css("display", "block").addClass("animated slideInRight").css("opacity", "1");}, 1000);min=0;sec=0;x=0;c=setTimeout(function(){if(mode_name=="mousebtn")boxcon();else{interval+=500;min_interval+=500;keycon();}t=setInterval(function(){++sec;if(sec>60){sec=0;++min;}var s=sec;var m=min;if(s < 10)s='0' + s;if(m < 10)m='0' + m;$("#clock").html(min + ' : ' + s);},1000);}, 2500);});});function boxcon(){$winvar.focus();$(".coltabs").mousedown(function(e){e.stopImmediatePropagation();$(this).css({"box-shadow": "none","border-top-style": "inset","border-left-style": "inset"});if($(this).css("background-color")==corcol){if($(this).attr("data-vis")=="0")--x;$(this).attr("data-vis", "1");$(this).find(".right").eq(0).slideDown(300);$(this).attr("data-vis", "1");}else{health();$(this).find(".right").eq(0).slideUp();$(this).find(".wrong").eq(0).slideDown(300);}$(this).css("cursor", "url(hammer_hit.png), default");});$(".coltabs").mouseup(function(){$(this).css({"box-shadow": "0px 0px 10px rgba(42, 42, 42, 0.7)","border-top-style": "outset","border-left-style": "outset"});$(this).css("cursor", "url(hammer.png), default");});if(flag==1)return;if(x<0)x=0;if(x > 0){health();};$(".coltabs").each(function(){var col=colors[Math.floor(Math.random()*4)];$(this).find(".right").eq(0).slideUp(100);$(this).find(".wrong").eq(0).slideUp(100);$(this).css("background-color", col);$(this).attr("data-vis", "0");if(col==corcol)++x;});interval -=25;if(interval < min_interval)interval=min_interval;c=setTimeout(function(){boxcon();}, interval);};function keycon(){$winvar.keydown(function(e){e.stopImmediatePropagation();var pressed_char=String.fromCharCode(e.which);var tru=0;$(".coltabs").each(function(){if($(this).attr("data-char")==pressed_char){tru=1;if($(this).css("background-color")==corcol){$(this).find(".text").eq(0).hide();if($(this).attr("data-vis")=="0")--x;$(this).attr("data-vis", "1");$(this).find(".right").eq(0).slideDown(300);}else{health();$(this).find(".text").eq(0).hide();$(this).find(".right").eq(0).slideUp();$(this).find(".wrong").eq(0).slideDown(300);return false;}}});if(tru===0)health();});$winvar.focus();if(flag==1)return;if(x<0)x=0;if(x > 0){health();};var abc=36;$(".coltabs").each(function(){var col=colors[Math.floor(Math.random()*4)];$(this).find(".right").eq(0).slideUp(100);$(this).find(".wrong").eq(0).slideUp(100);$(this).css("background-color", col);num_code=Math.floor(Math.random()*abc);$(this).find(".text").eq(0).html('<p>'+ String.fromCharCode(arr[num_code]) +'</p>').css("display", "block");$(this).attr("data-char", String.fromCharCode(arr[num_code]));$(this).attr("data-vis", "0");var xyz=arr[num_code]; arr[num_code]=arr[abc-1];arr[abc-1]=xyz;abc--;if(col==corcol)++x;});interval -=20;if(interval < min_interval)interval=min_interval;c=setTimeout(function(){keycon();}, interval);};function health(){x=0;$("#score i").eq(count).css("color", "rgb(192, 57, 43)");$("#score i").eq(count).addClass("animated wobble");++count;if(count==3){flag=1;clearInterval(t);$("#play0, #play1, #play2").fadeOut(500, function(){$("#finaltime").html($("#time").html());$("#gameover").delay(500).slideDown(500);$("#gameover").css("opacity", '1');setTimeout(function(){$("#about").css("display", "block");$("#about").addClass("animated fadeInUp").css("opacity", "1");},1200);});}}
